<div class="main-div">
  <mat-card class="center">
    <mat-card-title>Import Samples</mat-card-title>
    <mat-card-content>
      <div>
        <form method="POST" enctype="multipart/form-data" action="/probes/import">
          <div *ngIf="totalFiles == 0">
            <div>
              Select files to import
              <input type="file" name="file" (change)="onSelectFiles($event)" multiple/>
            </div>
            <br>
            <button mat-raised-button button color="primary" (click)="onStartImporting()">Start importing</button>
          </div>
          <h2 *ngIf="currentFile < totalFiles"> Import Progress: {{currentFile}} / {{totalFiles}}</h2>
          <div *ngIf="totalFiles > 0 && currentFile == totalFiles">
            <h2> All {{totalFiles}} files were imported. Elapsed time: {{elapsedTime}}</h2>
            <br>
            <button mat-raised-button button color="primary" (click)="onClearImport()">Import more samples</button>
          </div>
        </form>
        <div *ngIf="errorText">
          <p style="color: red">{{errorText}}</p>
          <button mat-raised-button button color="primary" (click)="onClearImport()">Retry</button>
        </div>
      </div>
    </mat-card-content>
  </mat-card>
</div>
